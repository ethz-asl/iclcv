# -*-mode: Makefile;-*-  ;; Have EMACS always use makefile-mode for this file. 
#
#   packageVar
#
# To use it, please include this file in your top-level makeVar.


# Please, replace "((PACKAGENAME))" with the project name
# (e.g. DISPLAYWINDOW_MAKEVAR )
ifeq "${QT_MAKEVAR}" ""
QT_MAKEVAR=QT_MAKEVAR

# we need Qt 4
ifeq "$(HAVE_QT)" "TRUE"

# Please, include here the inherited projects
# (e.g. include ${AGNI_GLOBAL_ROOT}/globalVar )
# (e.g. include ${AGNI_GLOBAL_ROOT}/Basics/Base/1.0/packageVar )

# Please, place here the include directory of the project
# (e.g. -I${AGNI_GLOBAL_ROOT}/Modules/DisplayWindow/1.0/include )
ABS_INCLUDES:= ${ABS_INCLUDES} \
	`PKG_CONFIG_PATH=$(QTDIR)/lib/pkgconfig:$(PKG_CONFIG_PATH) pkg-config --cflags QtCore QtGui QtOpenGL QtXml`


# Please, do not change this ifeq statement
ifeq "${HRI_INHERIT_MODE}" "STATIC"


# Please, place here the static libraries
# (e.g. ${AGNI_GLOBAL_ROOT}/Modules/DisplayWindow/1.0/lib/libDisplayWindow.a )
ABS_OBJECTS:= ${ABS_OBJECTS}

# Please, do not remove the else statement
else


# Please, place here the lib directory of the project
# and the library name. Add extra library path with
# library names as well (when needed)
# (e.g. -L${AGNI_GLOBAL_ROOT}/Modules/DisplayWindow/1.0/lib \
#       -lDisplayWindow )
# (e.g. extra library like: -L/usr/lib -lpthreads )


ifeq "${OS_TYPE}" "linux"

QT_LIB_DIRS_FROM_PKG_CONFIG=$(shell PKG_CONFIG_PATH=$(QTDIR)/lib/pkgconfig:$(PKG_CONFIG_PATH) pkg-config --libs-only-L QtCore QtGui QtOpenGL QtXml)
QT_RPATH_VAR=$(subst -L,,$(QT_LIB_DIRS_FROM_PKG_CONFIG))
QT_RPATH_VAR:=$(QT_RPATH_VAR:%=-Wl,-rpath=%)


ABS_LIBRARIES:=${ABS_LIBRARIES}\
		$(QT_RPATH_VAR)\
		$(QT_LIB_DIRS_FROM_PKG_CONFIG) \
		-lQtCore -lQtGui -lQtOpenGL -lGL -lGLU -lQtXml

endif
ifeq "${OS_TYPE}" "macosx"
ABS_LIBRARIES:=${ABS_LIBRARIES} -F${QTDIR}/lib \
                        -framework QtCore \
                        -framework QtGui \
                        -framework QtOpenGL \
                        -framework QtXml \
			-framework OpenGL
endif

# Please, do not remove this endif statement
endif

# Please, place here needed C defines (for static compilation)
CDEFINES:= ${CDEFINES}

# Please, place here C flags (for static compilation)
CFLAGS:= ${CFLAGS}

# place here needed C++ defines (for static compilation)
# (e.g. -DASSERT, -DEXCEPTION, -DREENTRANT )
CPPDEFINES:= ${CPPDEFINES}

# Please, place here C++ flags (for static compilation)
CPPFLAGS:= ${CPPFLAGS}

# Please, don't forget to set the appropriate AGNI_GLOBAL_ROOT in your environment.

endif # Qt4 test
endif # QT_MAKEVAR
